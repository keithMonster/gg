---
version: 1.0.0
author: gg (v9.2 evolution)
description: "统一的时间管理系统，确保所有技能和工作流中的时间处理一致性和准确性"
---

# 时间管理技能 (Time Management Skill)

## 1. 核心原则

### 1.1 统一时间源 (Unified Time Source)
- **唯一真实时间源**: 所有时间获取必须通过系统命令 `date` 动态获取
- **禁止硬编码**: 严禁在任何技能或工作流中使用硬编码的日期或时间
- **格式标准化**: 建立统一的时间格式标准，确保跨技能一致性

### 1.2 时间格式规范
- **文件命名**: `YYYY-MM-DD_HH-MM-SS` (如: 2025-08-13_16-35-45)
- **简报标题**: `YYYY-MM-DD` (如: 2025-08-13)
- **日志记录**: `YYYY-MM-DD HH:MM:SS` (如: 2025-08-13 16:35:45)
- **版本标记**: `YYYY-MM-DD` (如: 2025-08-13)

## 2. 时间获取工作流

### 2.1 获取当前时间戳
```bash
# 获取完整时间戳 (用于文件命名)
date +%Y-%m-%d_%H-%M-%S

# 获取日期 (用于简报标题)
date +%Y-%m-%d

# 获取详细时间 (用于日志)
date +"%Y-%m-%d %H:%M:%S"
```

### 2.2 时间验证机制
1. **执行前验证**: 在任何涉及时间的操作前，必须先获取当前系统时间
2. **格式验证**: 确保获取的时间格式符合规范
3. **逻辑验证**: 验证时间的合理性（如不能是未来时间用于历史记录）

## 3. 各技能集成规范

### 3.1 Daily Learning 集成
- **简报生成前**: 必须调用 `date +%Y-%m-%d` 获取当前日期
- **文件命名**: 使用获取的日期创建 `/outputs/daily_briefings/[YYYY-MM-DD].md`
- **内容标题**: 在简报标题中使用相同的日期格式

### 3.2 Memory Management 集成
- **对话保存**: 使用 `date +%Y-%m-%d_%H-%M-%S` 生成时间戳
- **文件路径**: `/memory/conversations/[timestamp].md`
- **内容时间戳**: 在文件内容中记录详细时间

### 3.3 Changelog 集成
- **版本标记**: 使用 `date +%Y-%m-%d` 作为版本日期
- **时间一致性**: 确保changelog中的日期与实际操作时间一致

## 4. 错误处理与修复

### 4.1 时间不一致检测
- **自动检测**: 在执行任何时间相关操作前，检查是否存在时间不一致
- **修复策略**: 发现不一致时，以系统当前时间为准进行修正
- **日志记录**: 记录所有时间修复操作

### 4.2 历史数据修正
- **识别问题**: 扫描现有文件，识别时间不一致的情况
- **批量修正**: 提供批量修正历史数据的工作流
- **备份策略**: 修正前创建备份，确保数据安全

## 5. 实施检查清单

### 5.1 技能更新检查
- [ ] Daily Learning: 更新时间获取逻辑
- [ ] Memory Management: 统一时间戳格式
- [ ] System Prompt: 集成时间管理规范
- [ ] 所有技能: 移除硬编码时间

### 5.2 验证测试
- [ ] 时间获取功能测试
- [ ] 格式一致性验证
- [ ] 跨技能时间同步测试
- [ ] 错误处理机制测试

## 6. 维护与监控

### 6.1 定期检查
- **每日检查**: 验证当天生成的所有文件时间戳正确性
- **每周审计**: 检查时间管理系统的整体运行状况
- **异常报告**: 发现时间异常时立即报告并修复

### 6.2 持续改进
- **性能优化**: 优化时间获取和处理的性能
- **功能扩展**: 根据需要扩展时间管理功能
- **标准更新**: 根据实际使用情况更新时间格式标准